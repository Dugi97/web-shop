{% extends 'base_admin.html.twig' %}

{% set title = 'Newsletter' %}
{% set position = 'position-fixed' %}

{% block body %}
    <div class="container">
        <div class="py-5">
            {% for message in app.flashes('success') %}
                <div class="position-fixed success d-flex justify-content-center align-items-center">
                    <div class="alert alert-success my-5">
                        <p class="m-0">{{ message }}</p>
                    </div>
                </div>
            {% endfor %}
            <form action="#" method="post" class="py-5">
                <div class="form-group">
                    <label>Template for email:</label>
                    <div class="custom-control custom-checkbox my-2">
                        <input required type="radio" class="custom-control-input" value="template_1" name="temp" id="temp_1">
                        <label class="custom-control-label" for="temp_1">Info template</label>
                        <a href="#" data-toggle="modal" data-target="#exampleModal" class="text-purple">
                            Preview
                        </a>
                    </div>
                    <div class="custom-control custom-checkbox my-2">
                        <input required type="radio" class="custom-control-input" value="coupon" name="temp" id="temp_2">
                        <label class="custom-control-label" for="temp_2">Coupon template</label>
                        <a href="#" data-toggle="modal" data-target="#couponModal" class="text-purple">
                            Preview
                        </a>
                    </div>
                </div>
                <div class="form-group">
                    <label>Include optional widgets for email:</label>
                    <div class="custom-control custom-checkbox my-2">
                        <input type="checkbox" class="custom-control-input" value="discount" name="discount" id="discount">
                        <label class="custom-control-label" for="discount">Products with discount in last 24h</label>
                    </div>
                    <div class="custom-control custom-checkbox my-2">
                        <input type="checkbox" class="custom-control-input" value="new_product" name="new_product" id="new_product">
                        <label class="custom-control-label" for="new_product">New products in last 24h</label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Newsletter title:</label>
                    <input type="text" class="form-control" name="title" required>
                </div>
                <div class="form-group">
                    <label>Newsletter message:</label>
                    <textarea required name="message" id="newsletter_area" cols="30" rows="10"></textarea>
                </div>
                <button type="submit" name="submit" class="btn btn-success btn-block">Send newsletter</button>
            </form>
        </div>
    </div>

    <div class="modal fade bd-example-modal-lg" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Template 1 preview</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <iframe width="100%" height="500" src="{{ asset('templates/template_1.html') }}" frameborder="0"></iframe>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bd-example-modal-lg" id="couponModal" tabindex="-1" role="dialog" aria-labelledby="couponModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="couponModalLabel">Coupon template preview</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <iframe width="100%" height="500" src="{{ asset('templates/coupon.html') }}" frameborder="0"></iframe>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        label {
            font-weight: bold;
        }
        .custom-control label {
            font-weight: normal;
        }
    </style>
{% endblock %}
